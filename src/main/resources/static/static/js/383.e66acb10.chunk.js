"use strict";(self.webpackChunkconnectionreactfrontend=self.webpackChunkconnectionreactfrontend||[]).push([[383],{105:function(e,t,n){var s=n(3144),r=n(5671),i=(0,s.Z)((function e(t,n,s,i,a,o,c,l,u,d,h,p,f){(0,r.Z)(this,e),this.public_id=t,this.firstname=n,this.lastname=s,this.password=i,this.email=a,this.age=o,this.country=c,this.state=l,this.city=u,this.gender=d,this.biography=h,this.interests=p,this.friendIdList=f}));t.Z=i},6429:function(e,t,n){var s=n(4569),r=n.n(s);r().defaults.withCredentials=!0;var i=r().create({baseURL:"http://localhost:8081/api/v1/",withCredentials:!0,xsrfCookieName:"_csrf",xsrfHeaderName:"X-XSRF-TOKEN"});i.defaults.headers.common={"X-XSRF-TOKEN":(document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.startsWith("XSRF-TOKEN=")}))[0]||"").replace("XSRF-TOKEN=","")},i.interceptors.response.use((function(e){return e}),(function(e){throw void 0!==e.response&&403!==e.response.status||(window.location.href="/login"),console.log(e),e})),t.Z=i},4466:function(e,t,n){var s=n(5861),r=n(7757),i=n.n(r),a=n(6429),o=n(105);function c(e){return e.data.map((function(e){return new o.Z(e.public_id,e.firstname,e.lastname,null,e.email,e.age,e.country,e.state,e.city,e.gender,e.biography,e.interests,null)}))}function l(){return(l=(0,s.Z)(i().mark((function e(t,n,s,r){var o,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get("/user/friends/find",{params:{scope:t.enum,mutualFriends:n,similarInterests:s,sameSex:r}});case 2:return o=e.sent,l=c(o),e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=(0,s.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get("/user/friends/find");case 2:return t=e.sent,n=c(t),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=(0,s.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get("/user/friends");case 2:return t=e.sent,n=c(t),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,s.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.post("/user/friends/".concat(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=(0,s.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.delete("/user/friends/".concat(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f={findFriends:function(){return u.apply(this,arguments)},findFriendsWithSettings:function(e,t,n,s){return l.apply(this,arguments)},getFriends:function(){return d.apply(this,arguments)},addFriend:function(e){return h.apply(this,arguments)},removeFriend:function(e){return p.apply(this,arguments)}};t.Z=f},5383:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var s=n(5861),r=n(5671),i=n(3144),a=n(136),o=n(8347),c=n(7757),l=n.n(c),u=n(2791),d=n(4466),h=n(9775),p=n(2731),f={CITY:{enum:0,name:"City"},STATE:{enum:1,name:"State"},COUNTRY:{enum:2,name:"Country"},GLOBAL:{enum:3,name:"Global"}},x=n(4721),m=n(8870),g=n(3400),Z=n(4663),j=n(7122),v=n(7630),y=n(5519),C=n(890),S=n(7112),b=n(8096),k=n(4925),w=n(4377),F=n(5022),I=n(5523),O=n(9955),T=n(6151),R=n(184),L=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).mfChange=function(){s.setState({mfChecked:!s.state.mfChecked})},s.siChange=function(){s.setState({siChecked:!s.state.siChecked})},s.ssChange=function(){s.setState({ssChecked:!s.state.ssChecked})},s.scopeChange=function(e){s.setState({scope:e})},s.state={mfChecked:e.mutualFriends,siChecked:e.similarInterests,ssChecked:e.sameSex,scope:e.scope},s}return(0,i.Z)(n,[{key:"render",value:function(){var e=this;return(0,R.jsxs)("div",{style:{textAlign:"center"},children:[(0,R.jsx)("h1",{children:"Search Settings"}),(0,R.jsx)(x.Z,{}),(0,R.jsxs)(b.Z,{style:{margin:"20px"},children:[(0,R.jsx)(k.Z,{id:"scope-search-options",children:"Scope"}),(0,R.jsx)(w.Z,{labelId:"scope-search-options",value:this.state.scope,label:"Scope",onChange:function(t){return e.scopeChange(t.target.value)},children:Object.values(f).map((function(e){return(0,R.jsx)(F.Z,{value:e,children:e.name},e.enum)}))}),(0,R.jsx)(I.Z,{control:(0,R.jsx)(O.Z,{checked:this.state.mfChecked,onChange:this.mfChange}),label:"Prioritize Mutual Friends",labelPlacement:"start"}),(0,R.jsx)(I.Z,{control:(0,R.jsx)(O.Z,{checked:this.state.siChecked,onChange:this.siChange}),label:"Look for similar Interests",labelPlacement:"start"}),(0,R.jsx)(I.Z,{control:(0,R.jsx)(O.Z,{checked:this.state.ssChecked,onChange:this.ssChange}),label:"Look for same sex",labelPlacement:"start"}),(0,R.jsx)(T.Z,{variant:"contained",onClick:function(){return e.props.submit(e.state.scope,e.state.mfChecked,e.state.siChecked,e.state.ssChecked)},children:"Search"})]})]})}}]),n}(u.Component),P=(0,v.ZP)(m.Z)((function(e){return{backgroundColor:"light"===e.theme.palette.mode?"#fff":y.Z[800]}})),A=(0,v.ZP)(m.Z)((function(e){return{width:30,height:6,backgroundColor:"light"===e.theme.palette.mode?y.Z[300]:y.Z[900],borderRadius:3,position:"absolute",top:8,left:"calc(50% - 15px)"}}));var N=function(e){return(0,R.jsxs)(S.Z,{anchor:"bottom",open:e.open,onClose:function(){return e.toggleDrawer(!1)},onOpen:function(){return e.toggleDrawer(!0)},ModalProps:{keepMounted:!0},children:[(0,R.jsxs)(P,{sx:{position:"absolute",top:-56,borderTopLeftRadius:8,borderTopRightRadius:8,visibility:"visible",right:0,left:0},children:[(0,R.jsx)(A,{}),(0,R.jsx)(C.Z,{sx:{p:2,color:"text.secondary"},children:"Search Options"})]}),(0,R.jsx)(P,{sx:{px:2,pb:2,height:"100%",overflow:"auto"},children:(0,R.jsx)(L,{scope:e.scope,mutualFriends:e.mutualFriends,similarInterests:e.similarInterests,sameSex:e.sameSex,submit:e.changeSearchOptions})})]})},G=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).toggleOpen=function(e){s.setState({open:e})},s.next=function(){s.setState({index:s.state.index+1})},s.addToFriends=function(e){d.Z.addFriend(e).then((function(t){console.log("Added friend ".concat(e," ").concat(t))}))},s.changeSearchOptions=function(e,t,n,r){s.setState({scope:e,mutualFriends:t,similarInterests:n,sameSex:r},s.findFriends),localStorage.setItem("scope",e.name.toUpperCase()),localStorage.setItem("mutualFriends",t),localStorage.setItem("similarInterests",n),localStorage.setItem("sameSex",r),s.toggleOpen(!1)},console.log(localStorage),s.state={friends:[],index:0,scope:f[localStorage.getItem("scope")||f.CITY.name],mutualFriends:"true"===(localStorage.getItem("mutualFriends")||"true"),similarInterests:"true"===(localStorage.getItem("similarInterests")||"true"),sameSex:"true"===(localStorage.getItem("sameSex")||"true"),open:!1},s}return(0,i.Z)(n,[{key:"findFriends",value:function(){var e=(0,s.Z)(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.Z.findFriendsWithSettings(this.state.scope,this.state.mutualFriends,this.state.similarInterests,this.state.sameSex).then((function(e){t.setState({friends:e})})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.findFriends()}},{key:"render",value:function(){if(0===this.state.friends.length||this.state.index>=this.state.friends.length)return(0,R.jsxs)("div",{children:[(0,R.jsx)(m.Z,{sx:{flexGrow:1},children:(0,R.jsxs)(Z.Z,{children:[(0,R.jsx)("h1",{style:{flexGrow:1},children:"Find"}),(0,R.jsx)(g.Z,{edge:"end",onClick:this.toggleOpen,children:(0,R.jsx)(j.Z,{})})]})}),(0,R.jsx)(x.Z,{}),(0,R.jsx)("h1",{children:"We can't find any new friends for you right now. Sorry :/"}),(0,R.jsx)(N,{scope:this.state.scope,mutualFriends:this.state.mutualFriends,similarInterests:this.state.similarInterests,sameSex:this.state.sameSex,open:this.state.open,toggleDrawer:this.toggleOpen,changeSearchOptions:this.changeSearchOptions}),(0,R.jsx)(h.Z,{value:"find"})]});var e=this.state.friends[this.state.index];return console.log(e),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(m.Z,{sx:{flexGrow:1},children:(0,R.jsxs)(Z.Z,{children:[(0,R.jsx)("h1",{style:{flexGrow:1},children:"Find"}),(0,R.jsx)(g.Z,{edge:"end",onClick:this.toggleOpen,children:(0,R.jsx)(j.Z,{})})]})}),(0,R.jsx)(x.Z,{}),(0,R.jsxs)("div",{align:"center",style:{margin:"20px"},children:[(0,R.jsx)(p.Z,{public_id:e.public_id,firstname:e.firstname,lastname:e.lastname,age:e.age,email:e.email,country:e.country,state:e.state,city:e.city,gender:e.gender,biography:e.biography,interests:e.interests,addToFriends:this.addToFriends,next:this.next,friend:!0}),(0,R.jsx)(N,{scope:this.state.scope,mutualFriends:this.state.mutualFriends,similarInterests:this.state.similarInterests,sameSex:this.state.sameSex,open:this.state.open,toggleDrawer:this.toggleOpen,changeSearchOptions:this.changeSearchOptions}),(0,R.jsx)(h.Z,{value:"find"})]})]})}}]),n}(u.Component),W=G},2731:function(e,t,n){var s=n(2982),r=(n(2791),n(7621)),i=n(9504),a=n(890),o=n(6647),c=n(8870),l=n(1918),u=n(2363),d=n(6151),h=n(184);t.Z=function(e){return(0,h.jsxs)(r.Z,{sx:{maxWidth:345,borderRadius:"20px"},elevation:10,children:[(0,h.jsx)(o.Z,{children:(0,h.jsxs)(i.Z,{children:[(0,h.jsx)(a.Z,{gutterBottom:!0,variant:"h5",component:"div",sx:{fontWeight:"bold"},children:"".concat(e.firstname," ").concat(e.lastname," (").concat(e.age,")")}),(0,h.jsx)(a.Z,{variant:"body2",color:"text.secondary",children:"".concat(e.city,", ").concat(e.country," (").concat(e.state,") - ").concat(e.gender)}),(0,h.jsx)(a.Z,{variant:"body1",color:"text.primary",style:{textAlign:"justify",textAlignLast:"center",margin:"15px 30px 10px 30px"},children:e.biography}),(0,h.jsx)(c.Z,{children:(0,s.Z)(e.interests).map((function(e){return(0,h.jsx)(l.Z,{style:{margin:"5px"},label:e.interest,variant:"outlined"},e.id)}))})]})}),e.friend?(0,h.jsxs)(u.Z,{style:{justifyContent:"center"},children:[(0,h.jsx)(d.Z,{size:"small",sx:{borderRadius:"10px"},color:"primary",variant:"contained",onClick:function(){e.addToFriends(e.public_id),e.next()},children:"Add"}),(0,h.jsx)("div",{style:{width:"30px"}}),(0,h.jsx)(d.Z,{size:"small",sx:{borderRadius:"10px"},color:"error",variant:"contained",onClick:e.next,children:"Skip"})]}):(0,h.jsx)(u.Z,{style:{justifyContent:"center",marginBottom:"15px"},children:(0,h.jsx)(d.Z,{size:"small",color:e.close?"warning":"primary",variant:"contained",onClick:e.updateUser,children:e.close?"Close":"Update"})})]})}},9775:function(e,t,n){var s=n(885),r=n(2791),i=n(8870),a=n(703),o=n(7849),c=n(9646),l=n(5403),u=n(8326),d=n(501),h=n(6871),p=n(184);t.Z=function(e){var t=r.useState(e.value||0),n=(0,s.Z)(t,2),f=n[0],x=n[1],m=(0,h.s0)();return(0,p.jsx)(i.Z,{children:(0,p.jsx)(a.Z,{sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3,children:(0,p.jsxs)(o.Z,{showLabels:!0,value:f,onChange:function(e,t){m("/".concat(t)),x(t)},children:[(0,p.jsx)(c.Z,{value:"find",label:"Find",icon:(0,p.jsx)(l.Z,{})}),(0,p.jsx)(c.Z,{value:"chat",label:"Chat",icon:(0,p.jsx)(u.Z,{})}),(0,p.jsx)(c.Z,{value:"profile",label:"Profile",icon:(0,p.jsx)(d.Z,{})})]})})})}}}]);
//# sourceMappingURL=383.e66acb10.chunk.js.map