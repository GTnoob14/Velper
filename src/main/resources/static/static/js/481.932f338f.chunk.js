"use strict";(self.webpackChunkconnectionreactfrontend=self.webpackChunkconnectionreactfrontend||[]).push([[481],{2481:function(t,e,i){i.r(e),i.d(e,{default:function(){return N}});var n=i(2982),a=i(5671),r=i(3144),o=i(136),s=i(8347),l=i(2791),c=i(8862),u=i(105),d=i(4721),h=i(890),p=i(6151),f=i(4706),g=i(3573),m=i(5842),v=i(5861),w=i(7757),S=i.n(w),y=i(6429);function b(){return(b=(0,v.Z)(S().mark((function t(e,i){var n;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={email:i,token:e},t.next=3,y.Z.post("/user/token",n);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Z={confirmAccount:function(t,e){return b.apply(this,arguments)}},x=Z,C=i(184),N=function(t){(0,o.Z)(i,t);var e=(0,s.Z)(i);function i(t){var r;return(0,a.Z)(this,i),(r=e.call(this,t)).refreshStates=function(t){g.Z.getStatesByCountry(t).then((function(t){r.setState({states:t||[]})}))},r.refreshCities=function(t,e){g.Z.getCitiesByState(t,e).then((function(t){r.setState({cities:t||[]})}))},r.updateFirstName=function(t){r.setState({firstName:t})},r.updateLastName=function(t){r.setState({lastName:t})},r.updateEmail=function(t){r.setState({email:t})},r.updatePassword=function(t){r.setState({password:t})},r.updateAge=function(t){r.setState({age:t})},r.updateCountry=function(t){r.setState({country:t}),null!=t?r.refreshStates(t.iso2):r.setState({states:[]})},r.updateState=function(t){r.setState({state:t}),null!=t?r.refreshCities(r.state.country.iso2,t.iso2):r.setState({cities:[]})},r.updateCity=function(t){r.setState({city:t})},r.updateGender=function(t){r.setState({gender:t})},r.updateConfirmationToken=function(t){r.setState({confirmationToken:t})},r.updateBiography=function(t){r.setState({biography:t})},r.updateInterests=function(t){r.setState({interests:t})},r.signup=function(){var t=new u.Z(null,r.state.firstName,r.state.lastName,r.state.password,r.state.email,r.state.age,r.state.country.iso2,r.state.state.name,r.state.city.name,r.state.gender,r.state.biography,(0,n.Z)(r.state.interests),null);console.log(t),c.Z.signUp(t).then((function(){})).catch((function(t){console.log(t),alert("Something went wrong!")}))},r.confirm=function(){x.confirmAccount(r.state.confirmationToken,r.state.email).then((function(){c.Z.login(r.state.email,r.state.password,!0).then((function(){window.location.href=window.location.href+"?con=2"})).catch((function(t){console.log(t),alert("Couldn't log in")}))})).catch((function(t){console.log(t)}))},r.updateSignup=function(){var t=new u.Z(null,null,null,null,null,null,null,null,null,null,r.state.biography,(0,n.Z)(r.state.interests),null);c.Z.updateUser(t).then((function(){window.location.href="/"})).catch((function(t){console.log(t)}))},r.state={firstName:"",lastName:"",email:"",password:"",age:"",country:{id:void 0,name:"",iso2:""},state:{id:void 0,name:"",iso2:""},city:{id:void 0,name:""},gender:"",confirmationToken:"",biography:"",interests:new Set,countries:[],states:[],cities:[],interestList:new Set},r}return(0,r.Z)(i,[{key:"componentDidMount",value:function(){var t=this;g.Z.getAllCountries().then((function(e){m.Z.getAllInterests().then((function(i){t.setState({countries:e||[],interestList:new Set(i.map((function(t){return t.interest})))||new Set})}))}))}},{key:"render",value:function(){var t=this,e=window.location.search,i=new URLSearchParams(e).get("con"),a=null;return a=void 0!==this.props.submitFunc?function(){var e=new u.Z(null,t.state.firstName,t.state.lastName,t.state.password,t.state.email,t.state.age,t.state.country.iso2,t.state.state.name,t.state.city.name,t.state.gender,t.state.biography,(0,n.Z)(t.state.interests),null);t.props.submitFunc(e)}:this.signup,(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("h1",{children:"Sign up"}),(0,C.jsx)(d.Z,{}),(0,C.jsx)(f.Z,{step:i,signup:a,confirm:this.confirm,updateSignup:this.updateSignup,firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email,password:this.state.password,age:this.state.age,country:this.state.country,state:this.state.state,city:this.state.city,gender:this.state.gender,verificationCode:this.state.confirmationToken,biography:this.state.biography,interests:this.state.interests,updateFirstName:this.updateFirstName,updateLastName:this.updateLastName,updateEmail:this.updateEmail,updatePassword:this.updatePassword,updateAge:this.updateAge,updateCountry:this.updateCountry,updateState:this.updateState,updateCity:this.updateCity,updateGender:this.updateGender,updateVerificationCode:this.updateConfirmationToken,updateBiography:this.updateBiography,updateInterests:this.updateInterests,countries:this.state.countries,states:this.state.states,cities:this.state.cities,interestList:this.state.interestList}),(0,C.jsx)(h.Z,{style:{opacity:"0.5",display:"inline-block"},children:"Already have an account?"}),(0,C.jsx)(p.Z,{variant:"text",style:{textTransform:"none",display:"inline-block"},onClick:function(){window.location.href="/login"},children:"Log in"})]})}}]),i}(l.Component)},4721:function(t,e,i){var n=i(3366),a=i(7462),r=i(2791),o=i(8182),s=i(767),l=i(2065),c=i(7630),u=i(1402),d=i(133),h=i(184),p=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],f=(0,c.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:function(t,e){var i=t.ownerState;return[e.root,i.absolute&&e.absolute,e[i.variant],i.light&&e.light,"vertical"===i.orientation&&e.vertical,i.flexItem&&e.flexItem,i.children&&e.withChildren,i.children&&"vertical"===i.orientation&&e.withChildrenVertical,"right"===i.textAlign&&"vertical"!==i.orientation&&e.textAlignRight,"left"===i.textAlign&&"vertical"!==i.orientation&&e.textAlignLeft]}})((function(t){var e=t.theme,i=t.ownerState;return(0,a.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:e.palette.divider,borderBottomWidth:"thin"},i.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},i.light&&{borderColor:(0,l.Fq)(e.palette.divider,.08)},"inset"===i.variant&&{marginLeft:72},"middle"===i.variant&&"horizontal"===i.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===i.variant&&"vertical"===i.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===i.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},i.flexItem&&{alignSelf:"stretch",height:"auto"})}),(function(t){var e=t.theme,i=t.ownerState;return(0,a.Z)({},i.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:"thin solid ".concat(e.palette.divider),top:"50%",content:'""',transform:"translateY(50%)"}})}),(function(t){var e=t.theme,i=t.ownerState;return(0,a.Z)({},i.children&&"vertical"===i.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:"thin solid ".concat(e.palette.divider),transform:"translateX(0%)"}})}),(function(t){var e=t.ownerState;return(0,a.Z)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),g=(0,c.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:function(t,e){var i=t.ownerState;return[e.wrapper,"vertical"===i.orientation&&e.wrapperVertical]}})((function(t){var e=t.theme,i=t.ownerState;return(0,a.Z)({display:"inline-block",paddingLeft:"calc(".concat(e.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(e.spacing(1)," * 1.2)")},"vertical"===i.orientation&&{paddingTop:"calc(".concat(e.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(e.spacing(1)," * 1.2)")})})),m=r.forwardRef((function(t,e){var i=(0,u.Z)({props:t,name:"MuiDivider"}),r=i.absolute,l=void 0!==r&&r,c=i.children,m=i.className,v=i.component,w=void 0===v?c?"div":"hr":v,S=i.flexItem,y=void 0!==S&&S,b=i.light,Z=void 0!==b&&b,x=i.orientation,C=void 0===x?"horizontal":x,N=i.role,A=void 0===N?"hr"!==w?"separator":void 0:N,k=i.textAlign,L=void 0===k?"center":k,I=i.variant,T=void 0===I?"fullWidth":I,R=(0,n.Z)(i,p),B=(0,a.Z)({},i,{absolute:l,component:w,flexItem:y,light:Z,orientation:C,role:A,textAlign:L,variant:T}),j=function(t){var e=t.absolute,i=t.children,n=t.classes,a=t.flexItem,r=t.light,o=t.orientation,l=t.textAlign,c={root:["root",e&&"absolute",t.variant,r&&"light","vertical"===o&&"vertical",a&&"flexItem",i&&"withChildren",i&&"vertical"===o&&"withChildrenVertical","right"===l&&"vertical"!==o&&"textAlignRight","left"===l&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return(0,s.Z)(c,d.V,n)}(B);return(0,h.jsx)(f,(0,a.Z)({as:w,className:(0,o.Z)(j.root,m),role:A,ref:e,ownerState:B},R,{children:c?(0,h.jsx)(g,{className:j.wrapper,ownerState:B,children:c}):null}))}));e.Z=m}}]);
//# sourceMappingURL=481.932f338f.chunk.js.map