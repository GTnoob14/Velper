"use strict";(self.webpackChunkconnectionreactfrontend=self.webpackChunkconnectionreactfrontend||[]).push([[74],{9074:function(t,e,s){s.r(e);var a=s(2982),n=s(5671),i=s(3144),r=s(136),o=s(8347),u=s(2791),c=s(4395),d=s(8870),p=s(4663),l=s(3400),h=s(3928),f=s(6871),g=s(890),m=s(3239),y=s(8862),S=s(5842),Z=s(3573),w=s(105),v=s(4706),C=s(184),N=function(t){(0,r.Z)(s,t);var e=(0,o.Z)(s);function s(t){var i;return(0,n.Z)(this,s),(i=e.call(this,t)).refreshStates=function(t){Z.Z.getStatesByCountry(t).then((function(t){i.setState({states:t||[]})}))},i.refreshCities=function(t,e){Z.Z.getCitiesByState(t,e).then((function(t){i.setState({cities:t||[]})}))},i.updateFirstName=function(t){i.setState({firstName:t})},i.updateLastName=function(t){i.setState({lastName:t})},i.updateEmail=function(t){i.setState({email:t})},i.updatePassword=function(t){i.setState({password:t})},i.updateAge=function(t){i.setState({age:t})},i.updateCountry=function(t){i.setState({country:t}),null!=t?i.refreshStates(t.iso2):i.setState({states:[]})},i.updateState=function(t){i.setState({state:t}),null!=t?i.refreshCities(i.state.country.iso2,t.iso2):i.setState({cities:[]})},i.updateCity=function(t){i.setState({city:t})},i.updateGender=function(t){i.setState({gender:t})},i.updateBiography=function(t){i.setState({biography:t})},i.updateInterests=function(t){i.setState({interests:t})},i.updateSignup=function(){var t=new w.Z(null,i.state.firstName,i.state.lastName,i.state.password,i.state.email,i.state.age,i.state.country.iso2,i.state.state.name,i.state.city.name,i.state.gender,i.state.biography,(0,a.Z)(i.state.interests),null);y.Z.updateUser(t).then((function(){i.props.navigate("/profile")})).catch((function(t){console.log(t)}))},i.state={step:0,firstName:"",lastName:"",email:"",password:"",age:"",country:{id:null,name:"",iso2:""},state:{id:null,name:"",iso2:""},city:{id:null,name:""},gender:"",biography:"",interests:new Set,countries:[],states:[],cities:[],interestList:new Set,loaded:!1},i}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){var t=this;y.Z.getUser().then((function(e){Z.Z.getAllCountries().then((function(s){var a=s.find((function(t){return t.iso2===e.country}));Z.Z.getStatesByCountry(a.iso2).then((function(n){var i=n.find((function(t){return t.name===e.state}));Z.Z.getCitiesByState(a.iso2,i.iso2).then((function(r){var o=r.find((function(t){return t.name===e.city}));console.log(a),console.log(i),console.log(o),S.Z.getAllInterests().then((function(u){t.setState({firstName:e.firstname,lastName:e.lastname,email:e.email,password:e.password,age:e.age,country:a,state:i,city:o,gender:e.gender,confirmationToken:e.confirmationToken,biography:e.biography,interests:e.interests.map((function(t){return t.interest})),countries:s||[],states:n,cities:r,interestList:new Set(u.map((function(t){return t.interest})))||new Set,loaded:!0})}))}))}))}))}))}},{key:"render",value:function(){var t=this;return(0,C.jsxs)(d.Z,{sx:{flexGrow:1},children:[(0,C.jsx)(c.Z,{position:"static",children:(0,C.jsxs)(p.Z,{children:[(0,C.jsx)(l.Z,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:function(){return t.props.navigate("/profile")},children:(0,C.jsx)(h.Z,{})}),(0,C.jsx)(g.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Update your Profile"})]})}),this.state.loaded?(0,C.jsx)(v.Z,{step:this.state.step,updateSignup:this.updateSignup,firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email,password:this.state.password,age:this.state.age,country:this.state.country,state:this.state.state,city:this.state.city,gender:this.state.gender,biography:this.state.biography,interests:this.state.interests,updateFirstName:this.updateFirstName,updateLastName:this.updateLastName,updateEmail:this.updateEmail,updatePassword:this.updatePassword,updateAge:this.updateAge,updateCountry:this.updateCountry,updateState:this.updateState,updateCity:this.updateCity,updateGender:this.updateGender,updateBiography:this.updateBiography,updateInterests:this.updateInterests,countries:this.state.countries,states:this.state.states,cities:this.state.cities,interestList:this.state.interestList,skipConf:!0}):(0,C.jsx)(m.Z,{sx:{marginTop:"1vh"}})]})}}]),s}(u.Component);e.default=function(){var t=(0,f.s0)();return(0,C.jsx)(N,{navigate:t})}}}]);
//# sourceMappingURL=74.10112d7c.chunk.js.map