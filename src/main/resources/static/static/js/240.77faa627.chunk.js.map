{"version":3,"file":"static/js/240.77faa627.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/ArrowBackIos.js","components/UpdateOwnProfilePage.js"],"sourcesContent":["import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z\"\n}), 'ArrowBackIos');","import * as React from 'react';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Box from '@mui/material/Box';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport { ArrowBackIos } from '@mui/icons-material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { CircularProgress, Typography } from '@mui/material';\r\nimport UserController from '../api/user/UserController';\r\nimport InterestController from '../api/interests/InterestsController';\r\nimport cscController from '../api/csc/CSC_Controller';\r\nimport UserModel from '../api/_models/User.datamodel';\r\nimport SignupProcess from './models/signup/SignupProcess';\r\n\r\nconst UpdateOwnProfilePage = () => {\r\n  const navigate = useNavigate();\r\n  return (<CUpdateOwnProfilePage navigate={navigate} />);\r\n}\r\n\r\nclass CUpdateOwnProfilePage extends React.Component{\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      step: 0,\r\n\r\n      firstName: '',\r\n      lastName: '',\r\n      email: '',\r\n      password: '',\r\n      age: '',\r\n      country: {id: null, name: '', iso2: ''},\r\n      state: {id: null, name: '', iso2: ''},\r\n      city: {id: null, name: ''},\r\n      //confirmationToken: '',\r\n      biography: '',\r\n      interests: new Set(),\r\n\r\n      countries: [],\r\n      states: [],\r\n      cities: [],\r\n\r\n      interestList: new Set(),\r\n\r\n      loaded: false\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    UserController.getUser().then(user => {\r\n      cscController.getAllCountries().then(countries => {\r\n        const user_country = countries.find(c => c.iso2 === user.country);\r\n        cscController.getStatesByCountry(user_country.iso2).then(states => {\r\n          const user_state = states.find(s => s.name === user.state);\r\n          cscController.getCitiesByState(user_country.iso2, user_state.iso2).then(cities => {\r\n            const user_city = cities.find(c => c.name === user.city);\r\n            console.log(user_country);\r\n            console.log(user_state);\r\n            console.log(user_city);\r\n            InterestController.getAllInterests().then(i => {\r\n              this.setState({\r\n                firstName: user.firstname,\r\n                lastName: user.lastname,\r\n                email: user.email,\r\n                password: user.password,\r\n                age: user.age,\r\n                country: user_country,\r\n                state: user_state,\r\n                city: user_city,\r\n                confirmationToken: user.confirmationToken,\r\n                biography: user.biography,\r\n                interests: user.interests.map(interest => interest.interest),\r\n\r\n                countries: countries || [],\r\n                states: states,\r\n                cities: cities,\r\n                interestList: new Set(i.map(ist => ist.interest)) || new Set(),\r\n              \r\n                loaded: true,\r\n              });\r\n            });\r\n          });\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  refreshStates = (ciso) => {\r\n    cscController.getStatesByCountry(ciso).then(res => {\r\n      this.setState({states: res || []});\r\n    })\r\n  }\r\n\r\n  refreshCities = (ciso, siso) => {\r\n    cscController.getCitiesByState(ciso, siso).then(res => {\r\n      this.setState({cities: res || []});\r\n    })\r\n  }\r\n\r\n  updateFirstName = (_firstName) => {\r\n    this.setState({firstName: _firstName});\r\n  }\r\n  updateLastName = (_lastName) => {\r\n    this.setState({lastName: _lastName});\r\n  }\r\n  updateEmail = (_email) => {\r\n    this.setState({email: _email});\r\n  }\r\n  updatePassword = (_password) => {\r\n    this.setState({password: _password});\r\n  }\r\n  updateAge = (_age) => {\r\n    this.setState({age: _age});\r\n  }\r\n  updateCountry = (_country) => {\r\n    this.setState({country: _country});\r\n    if(_country != null)\r\n      this.refreshStates(_country.iso2);\r\n    else\r\n      this.setState({states: []})\r\n  }\r\n  updateState = (_state) => {\r\n    this.setState({state: _state});\r\n    if(_state != null)\r\n      this.refreshCities(this.state.country.iso2, _state.iso2);\r\n    else\r\n      this.setState({cities: []})\r\n  }\r\n  updateCity = (_city) => {\r\n    this.setState({city: _city});\r\n  }\r\n  updateBiography = (_biography) => {\r\n    this.setState({biography: _biography});\r\n  }\r\n  updateInterests = (_interests) => {\r\n    this.setState({interests: _interests});\r\n  }\r\n\r\n  updateSignup = () => {\r\n    const userModel = new UserModel(\r\n      null,\r\n      this.state.firstName,\r\n      this.state.lastName,\r\n      this.state.password,\r\n      this.state.email,\r\n      this.state.age,\r\n      this.state.country.iso2,\r\n      this.state.state.name,\r\n      this.state.city.name,\r\n      this.state.biography,\r\n      [...this.state.interests],\r\n      null\r\n    );\r\n    UserController.updateUser(userModel).then(() => {\r\n      this.props.navigate('/profile');\r\n    }).catch(err => {\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <Box sx={{ flexGrow: 1 }}>\r\n        <AppBar position=\"static\">\r\n          <Toolbar>\r\n            <IconButton\r\n              size=\"large\"\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              aria-label=\"menu\"\r\n              sx={{ mr: 2 }}\r\n              onClick={() => this.props.navigate('/profile')}\r\n            >\r\n              <ArrowBackIos />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n                Update your Profile\r\n            </Typography>\r\n          </Toolbar>\r\n        </AppBar>\r\n          {\r\n            this.state.loaded ? (\r\n            <SignupProcess \r\n              step={this.state.step}\r\n\r\n              updateSignup={this.updateSignup}\r\n\r\n              firstName={this.state.firstName}\r\n              lastName={this.state.lastName}\r\n              email={this.state.email}\r\n              password={this.state.password}\r\n              age={this.state.age}\r\n              country={this.state.country}\r\n              state={this.state.state}\r\n              city={this.state.city}\r\n\r\n              biography={this.state.biography}\r\n              interests={this.state.interests}\r\n\r\n              updateFirstName={this.updateFirstName}\r\n              updateLastName={this.updateLastName}\r\n              updateEmail={this.updateEmail}\r\n              updatePassword={this.updatePassword}\r\n              updateAge={this.updateAge}\r\n              updateCountry={this.updateCountry}\r\n              updateState={this.updateState}\r\n              updateCity={this.updateCity}\r\n\r\n              updateBiography={this.updateBiography}\r\n              updateInterests={this.updateInterests}\r\n\r\n              countries={this.state.countries}\r\n              states={this.state.states}\r\n              cities={this.state.cities}\r\n              interestList={this.state.interestList}\r\n\r\n              skipConf={true}\r\n            />\r\n            ) : (\r\n            <CircularProgress sx={{marginTop: '1vh'}} />\r\n          )}\r\n      </Box>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdateOwnProfilePage;\r\n"],"names":["createSvgIcon","_jsx","d","CUpdateOwnProfilePage","props","refreshStates","ciso","cscController","then","res","setState","states","refreshCities","siso","cities","updateFirstName","_firstName","firstName","updateLastName","_lastName","lastName","updateEmail","_email","email","updatePassword","_password","password","updateAge","_age","age","updateCountry","_country","country","iso2","updateState","_state","state","updateCity","_city","city","updateBiography","_biography","biography","updateInterests","_interests","interests","updateSignup","userModel","UserModel","name","UserController","navigate","catch","err","console","log","step","id","Set","countries","interestList","loaded","user","user_country","find","c","user_state","s","user_city","InterestController","i","firstname","lastname","confirmationToken","map","interest","ist","Box","sx","flexGrow","AppBar","position","Toolbar","IconButton","size","edge","color","mr","onClick","ArrowBackIos","Typography","variant","component","this","SignupProcess","skipConf","CircularProgress","marginTop","React","useNavigate"],"sourceRoot":""}