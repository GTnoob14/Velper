"use strict";(self.webpackChunkconnectionreactfrontend=self.webpackChunkconnectionreactfrontend||[]).push([[74],{9074:function(t,e,s){s.r(e);var a=s(2982),i=s(5671),n=s(3144),r=s(136),o=s(8347),u=s(2791),c=s(4395),p=s(8870),d=s(4663),l=s(3400),h=s(3928),f=s(6871),m=s(890),g=s(3239),y=s(8862),S=s(5842),Z=s(3573),w=s(105),v=s(4706),C=s(184),N=function(t){(0,r.Z)(s,t);var e=(0,o.Z)(s);function s(t){var n;return(0,i.Z)(this,s),(n=e.call(this,t)).refreshStates=function(t){Z.Z.getStatesByCountry(t).then((function(t){n.setState({states:t||[]})}))},n.refreshCities=function(t,e){Z.Z.getCitiesByState(t,e).then((function(t){n.setState({cities:t||[]})}))},n.updateFirstName=function(t){n.setState({firstName:t})},n.updateLastName=function(t){n.setState({lastName:t})},n.updateEmail=function(t){n.setState({email:t})},n.updatePassword=function(t){n.setState({password:t})},n.updateAge=function(t){n.setState({age:t})},n.updateCountry=function(t){n.setState({country:t}),null!=t?n.refreshStates(t.iso2):n.setState({states:[]})},n.updateState=function(t){n.setState({state:t}),null!=t?n.refreshCities(n.state.country.iso2,t.iso2):n.setState({cities:[]})},n.updateCity=function(t){n.setState({city:t})},n.updateBiography=function(t){n.setState({biography:t})},n.updateInterests=function(t){n.setState({interests:t})},n.updateSignup=function(){var t=new w.Z(null,n.state.firstName,n.state.lastName,n.state.password,n.state.email,n.state.age,n.state.country.iso2,n.state.state.name,n.state.city.name,n.state.biography,(0,a.Z)(n.state.interests),null);y.Z.updateUser(t).then((function(){n.props.navigate("/profile")})).catch((function(t){console.log(t)}))},n.state={step:0,firstName:"",lastName:"",email:"",password:"",age:"",country:{id:null,name:"",iso2:""},state:{id:null,name:"",iso2:""},city:{id:null,name:""},biography:"",interests:new Set,countries:[],states:[],cities:[],interestList:new Set,loaded:!1},n}return(0,n.Z)(s,[{key:"componentDidMount",value:function(){var t=this;y.Z.getUser().then((function(e){Z.Z.getAllCountries().then((function(s){var a=s.find((function(t){return t.iso2===e.country}));Z.Z.getStatesByCountry(a.iso2).then((function(i){var n=i.find((function(t){return t.name===e.state}));Z.Z.getCitiesByState(a.iso2,n.iso2).then((function(r){var o=r.find((function(t){return t.name===e.city}));console.log(a),console.log(n),console.log(o),S.Z.getAllInterests().then((function(u){t.setState({firstName:e.firstname,lastName:e.lastname,email:e.email,password:e.password,age:e.age,country:a,state:n,city:o,confirmationToken:e.confirmationToken,biography:e.biography,interests:e.interests.map((function(t){return t.interest})),countries:s||[],states:i,cities:r,interestList:new Set(u.map((function(t){return t.interest})))||new Set,loaded:!0})}))}))}))}))}))}},{key:"render",value:function(){var t=this;return(0,C.jsxs)(p.Z,{sx:{flexGrow:1},children:[(0,C.jsx)(c.Z,{position:"static",children:(0,C.jsxs)(d.Z,{children:[(0,C.jsx)(l.Z,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:function(){return t.props.navigate("/profile")},children:(0,C.jsx)(h.Z,{})}),(0,C.jsx)(m.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Update your Profile"})]})}),this.state.loaded?(0,C.jsx)(v.Z,{step:this.state.step,updateSignup:this.updateSignup,firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email,password:this.state.password,age:this.state.age,country:this.state.country,state:this.state.state,city:this.state.city,biography:this.state.biography,interests:this.state.interests,updateFirstName:this.updateFirstName,updateLastName:this.updateLastName,updateEmail:this.updateEmail,updatePassword:this.updatePassword,updateAge:this.updateAge,updateCountry:this.updateCountry,updateState:this.updateState,updateCity:this.updateCity,updateBiography:this.updateBiography,updateInterests:this.updateInterests,countries:this.state.countries,states:this.state.states,cities:this.state.cities,interestList:this.state.interestList,skipConf:!0}):(0,C.jsx)(g.Z,{sx:{marginTop:"1vh"}})]})}}]),s}(u.Component);e.default=function(){var t=(0,f.s0)();return(0,C.jsx)(N,{navigate:t})}}}]);
//# sourceMappingURL=74.d41f2b8d.chunk.js.map